<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Password Ascension</title>
<style>
    body {
        background: radial-gradient(circle, #0f0f1a, #000);
        color: #e0e0ff;
        font-family: monospace;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
    }

    .game {
        background: rgba(20,20,40,0.9);
        padding: 25px;
        border-radius: 12px;
        width: 360px;
        box-shadow: 0 0 25px #3f3fff55;
        text-align: center;
    }

    input {
        width: 100%;
        padding: 10px;
        font-size: 16px;
        margin-top: 10px;
        border-radius: 6px;
        border: none;
        outline: none;
    }

    button {
        margin-top: 15px;
        padding: 10px;
        width: 100%;
        font-size: 16px;
        background: linear-gradient(90deg, #3f3fff, #8f8fff);
        border: none;
        border-radius: 6px;
        cursor: pointer;
        font-weight: bold;
    }

    button:hover {
        filter: brightness(1.2);
    }

    .msg {
        margin-top: 15px;
        min-height: 40px;
        font-size: 14px;
    }

    .level {
        font-size: 18px;
        margin-bottom: 10px;
        color: #9f9fff;
    }
</style>
</head>
<body>

<div class="game">
    <div class="level">N√çVEL <span id="level">1</span></div>
    <p>Crie uma senha aceit√°vel.</p>
    <input type="text" id="password" placeholder="Digite a senha">
    <button onclick="check()">VALIDAR</button>
    <div class="msg" id="msg"></div>
</div>

<script>
let level = 1;

function entropy(p) {
    let pool = 0;
    if (/[a-z]/.test(p)) pool += 26;
    if (/[A-Z]/.test(p)) pool += 26;
    if (/[0-9]/.test(p)) pool += 10;
    if (/[^a-zA-Z0-9]/.test(p)) pool += 32;
    return p.length * Math.log2(pool || 1);
}

function hasPatterns(p) {
    return /(123|abc|qwerty|senha|password|111|000)/i.test(p);
}

function check() {
    const p = document.getElementById("password").value;
    const msg = document.getElementById("msg");
    const e = entropy(p);

    let ok = true;
    let feedback = [];

    if (p.length < level + 6) {
        ok = false;
        feedback.push("Muito curta.");
    }

    if (hasPatterns(p)) {
        ok = false;
        feedback.push("Padr√µes previs√≠veis detectados.");
    }

    if (level >= 2 && !(/[A-Z]/.test(p))) {
        ok = false;
        feedback.push("Algo est√° faltando.");
    }

    if (level >= 3 && !(/[0-9]/.test(p))) {
        ok = false;
        feedback.push("A senha ainda √© humana demais.");
    }

    if (level >= 4 && !(/[^a-zA-Z0-9]/.test(p))) {
        ok = false;
        feedback.push("Entropia insuficiente.");
    }

    if (level >= 5 && e < 60 + level * 5) {
        ok = false;
        feedback.push("For√ßa estat√≠stica fraca.");
    }

    if (level >= 6 && new Set(p).size < p.length * 0.6) {
        ok = false;
        feedback.push("Repeti√ß√µes excessivas.");
    }

    if (ok) {
        level++;
        document.getElementById("level").textContent = level;
        msg.innerHTML = "‚úî Senha aceita. As regras mudaram.";
        document.getElementById("password").value = "";
    } else {
        msg.innerHTML = "‚úñ " + feedback.join(" ");
    }

    if (level === 10) {
        msg.innerHTML = "üèÜ Voc√™ entende o caos. Poucos chegam aqui.";
    }
}
</script>

</body>
</html>
